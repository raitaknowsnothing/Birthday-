<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>Happy Birthday Sajid ‚Äî Balloon Pop</title>
<style>
  /* --- Reset & base --- */
  :root{
    --bg1:#0a2a1a; /* deep grass */
    --accent:#ffcc00; /* gold like Bar√ßa crest */
    --pixel:#7dbb3b; /* Minecraft grass green */
    --minecraft-block:#7ba04b;
    --balloon-shadow: rgba(0,0,0,0.25);
    --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:var(--font-sans);-webkit-tap-highlight-color:transparent}
  body{
    background:
      repeating-linear-gradient(90deg, #0b2a1b 0 8px, #0d341f 8px 16px), /* subtle stripe */
      linear-gradient(180deg,#042a19 0%, #071f17 60%, #0d1410 100%);
    color:white;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px;
  }

  /* --- Stage / game container --- */
  .game {
    width:100%;
    max-width:920px;
    height:calc(100vh - 48px);
    max-height:1200px;
    border-radius:16px;
    overflow:hidden;
    background:
      linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.05));
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    position:relative;
    display:flex;
    flex-direction:column;
  }

  /* --- Top HUD (title, score) --- */
  .hud{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:12px 16px;
    gap:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    border-bottom: 1px solid rgba(255,255,255,0.03);
  }
  .title {
    display:flex;
    align-items:center;
    gap:12px;
    font-weight:700;
    letter-spacing:0.6px;
  }
  .title .logo {
    width:44px;height:44px;border-radius:8px;
    background:
      linear-gradient(45deg,#0b84ff,#0047ab);
    display:flex;align-items:center;justify-content:center;
    font-weight:900;color:white;font-size:18px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.45);
  }
  .title .subtitle { font-size:13px; opacity:0.9 }
  .controls { display:flex; gap:8px; align-items:center }
  .btn {
    background: rgba(255,255,255,0.06);
    border:1px solid rgba(255,255,255,0.04);
    padding:8px 12px; border-radius:10px;
    font-size:14px; color:white;
    display:inline-flex; gap:8px; align-items:center;
    box-shadow: 0 6px 12px rgba(0,0,0,0.35);
  }
  .btn.small { padding:6px 8px; font-size:13px }

  /* --- Game area --- */
  .arena{
    flex:1;
    position:relative;
    overflow:hidden;
    touch-action: manipulation;
    -webkit-user-select:none;
    display:block;
    background-image:
      linear-gradient(rgba(255,255,255,0.02), rgba(0,0,0,0.02) 60%),
      radial-gradient(circle at 10% 10%, rgba(255,255,255,0.02), transparent 10%),
      linear-gradient(180deg, rgba(0,0,0,0.05), transparent);
  }

  /* Ground footer (pixel / minecraft block feel) */
  .ground {
    height:56px;
    background: repeating-linear-gradient(90deg,
      #6b8a3a 0 32px,
      #5c7a2e 32px 64px);
    border-top: 3px solid rgba(0,0,0,0.25);
  }

  /* --- Balloons --- */
  .balloon {
    position:absolute;
    width:84px; height:120px;
    transform-origin:center bottom;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius:48px 48px 42px 42px;
    cursor:pointer;
    user-select:none;
    -webkit-user-select:none;
    transition: transform 120ms cubic-bezier(.2,.9,.2,1);
    box-shadow: 0 8px 18px var(--balloon-shadow);
  }
  .balloon .tag {
    position:absolute; top:10px; left:8px; font-weight:700; font-size:12px;
    color:#fff; text-shadow: 0 2px 6px rgba(0,0,0,0.6);
  }
  .balloon .string {
    position:absolute; bottom:-22px; left:50%; transform:translateX(-50%); width:2px; height:36px;
    background:linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.05));
    border-radius:2px;
  }
  /* Minecraft-style blocky balloon pattern for some balloons */
  .balloon.pixel {
    background-image:
      linear-gradient(90deg, rgba(0,0,0,0.06) 25%, transparent 25%),
      linear-gradient(180deg, rgba(0,0,0,0.05) 25%, transparent 25%),
      linear-gradient(45deg, var(--minecraft-block), var(--pixel));
    background-size: 20px 20px, 20px 20px, 100% 100%;
  }
  /* Football (soccer ball) patterned balloons using radial-gradient */
  .balloon.football {
    background: radial-gradient(circle at 30% 30%, #fff 0 18%, #d0d0d0 18% 19%, transparent 19%),
                radial-gradient(circle at 70% 70%, #fff 0 18%, #e0e0e0 18% 19%, transparent 19%),
                linear-gradient(180deg,#b71c1c,#0d47a1);
    background-blend-mode: normal, normal, multiply;
  }

  /* Color themes */
  .balloon.red { background: linear-gradient(180deg,#ff5d5d,#c74444); }
  .balloon.blue { background: linear-gradient(180deg,#3a86ff,#003c8f); }
  .balloon.gold { background: linear-gradient(180deg,#ffd166,#f0a500); color:#4a2d00 }
  .balloon.green { background: linear-gradient(180deg,#6be56b,#278b2b); }

  /* Pops (pop animation) */
  .pop-anim {
    position:absolute; width:8px; height:8px; border-radius:50%;
    pointer-events:none; transform:translate(-50%,-50%); opacity:0.95;
    animation: burst 420ms cubic-bezier(.2,.9,.2,1) forwards;
  }
  @keyframes burst {
    0% { transform: translate(-50%,-50%) scale(1); opacity:1; }
    100%{ transform: translate(-50%,-50%) scale(10); opacity:0; }
  }

  /* End message overlay */
  .overlay {
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));
    z-index:50; padding:20px; text-align:center; gap:14px; flex-direction:column;
  }
  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border-radius:12px; padding:18px; max-width:760px; width:100%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  }
  h1 { margin:0; font-size:20px; letter-spacing:0.4px }
  p.lead { margin:6px 0 0 0; font-size:15px; opacity:0.95; line-height:1.45; color:#fff }

  .message { text-align:left; background:rgba(255,255,255,0.03); padding:12px; border-radius:8px; margin-top:10px; font-size:14px; color:#fff }

  /* Responsive tweaks */
  @media (max-width:520px){
    .balloon { width:68px; height:98px }
    .hud { padding:10px }
    .title .logo { width:40px; height:40px; font-size:16px }
  }
</style>
</head>
<body>
  <div class="game" id="gameRoot" aria-label="Happy Birthday Sajid balloon pop game">
    <div class="hud">
      <div class="title">
        <div class="logo">‚öΩÔ∏è</div>
        <div>
          <div style="font-size:16px">Sajid's Birthday Pop!</div>
          <div class="subtitle">Minecraft + Football ‚Ä¢ Messi vibes</div>
        </div>
      </div>

      <div class="controls">
        <div id="scoreDisplay" class="btn small">Popped: 0</div>
        <button class="btn" id="pauseBtn">Pause</button>
        <button class="btn" id="showMsgBtn">Message</button>
      </div>
    </div>

    <div class="arena" id="arena"></div>
    <div class="ground"></div>

    <!-- overlay for message / menu -->
    <div class="overlay" id="overlay" style="display:flex; gap:12px;">
      <div class="card">
        <h1>Happy Birthday, Sajid! üéâ</h1>
        <p class="lead">Tap or pop balloons to celebrate ‚Äî Minecraft blocks meet football fun (Messi & FCB love included).</p>

        <div style="display:flex; gap:8px; margin-top:12px; flex-wrap:wrap;">
          <button class="btn" id="startBtn">Start Popping</button>
          <button class="btn" id="howBtn">How to play</button>
        </div>

        <div id="messagePreview" class="message" style="margin-top:12px;">
          <!-- short preview -->
          Happy Birthday Sajid ‚Äî tap to open the full message.
        </div>
      </div>
    </div>

    <!-- hidden canvas for particle effects -->
    <canvas id="particleCanvas" style="position:absolute; inset:0; pointer-events:none; z-index:40"></canvas>
  </div>

<script>
/* -------------------
  Balloon Pop Game JS
   - mobile friendly (tap)
   - simple physics for balloons rising
   - pop particles & burst effect
   - overlay message with your birthday text
-------------------- */

const arena = document.getElementById('arena');
const overlay = document.getElementById('overlay');
const startBtn = document.getElementById('startBtn');
const howBtn = document.getElementById('howBtn');
const pauseBtn = document.getElementById('pauseBtn');
const scoreDisplay = document.getElementById('scoreDisplay');
const showMsgBtn = document.getElementById('showMsgBtn');
const messagePreview = document.getElementById('messagePreview');
const canvas = document.getElementById('particleCanvas');
const ctx = canvas.getContext('2d');

let running = false;
let score = 0;
let balloons = [];
let spawnInterval = 1100; // ms
let lastSpawn = 0;
let lastTick = performance.now();
let paused = false;

const fullBirthdayMessage = `Happy Birthday Sajid, I am so happy I get to share this day with you. You make my everyday better, thought you should know. All I want for your special day is that next year this time, you are even better- I hope and pray everything good written for you gets here asap. You deserve all the happiness in the world.`;

// Show preview in overlay
messagePreview.textContent = fullBirthdayMessage.substring(0,140) + '...';

// Resize canvas to arena
function resize(){
  canvas.width = arena.clientWidth;
  canvas.height = arena.clientHeight;
}
window.addEventListener('resize', resize);
resize();

/* Utility random */
function r(min,max){ return Math.random()*(max-min)+min; }

/* Balloon factory */
function createBalloon(){
  const w = arena.clientWidth;
  const h = arena.clientHeight;
  const size = r(64,110);
  const x = r(40, w - 40);
  const y = h + size; // start below view
  const rise = r(20, 60); // px/s
  // choose style: pixel/minecraft or football or color
  const types = ['pixel','football','red','blue','gold','green'];
  const type = types[Math.floor(Math.random()*types.length)];
  const el = document.createElement('div');
  el.className = 'balloon ' + type;
  // Put a tag text often with football references
  const tags = ['MESSI', 'FCB', 'GOAL', 'Sajid', '10', 'FORZA'];
  const tag = tags[Math.floor(Math.random()*tags.length)];
  const tagEl = document.createElement('div');
  tagEl.className = 'tag';
  tagEl.textContent = tag;
  el.appendChild(tagEl);
  // string
  const string = document.createElement('div');
  string.className = 'string';
  el.appendChild(string);

  el.style.left = x + 'px';
  el.style.bottom = -size + 'px';
  el.style.width = Math.round(size * 0.75) + 'px';
  el.style.height = size + 'px';
  el.style.zIndex = Math.floor(100 + (h - y));

  // add touch/click handler
  el.addEventListener('pointerdown', (ev)=>{
    ev.preventDefault();
    popBalloon(ball);
  });

  // store balloon object
  const ball = { el, x, y, size, rise, tag, alive:true };
  arena.appendChild(el);
  balloons.push(ball);
}

/* Pop logic */
function popBalloon(ball){
  if(!ball || !ball.alive) return;
  ball.alive = false;
  const rect = ball.el.getBoundingClientRect();
  // burst DOM expand effect
  const burst = document.createElement('div');
  burst.className = 'pop-anim';
  burst.style.left = (ball.el.offsetLeft + ball.el.offsetWidth*0.5) + 'px';
  burst.style.top = (ball.el.offsetTop + ball.el.offsetHeight*0.35) + 'px';
  burst.style.background = 'radial-gradient(circle, rgba(255,255,255,0.9), rgba(255,255,255,0.1))';
  arena.appendChild(burst);
  setTimeout(()=>burst.remove(), 480);

  // particle burst in canvas space
  createParticles(ball.el.offsetLeft + ball.el.offsetWidth*0.5, ball.el.offsetTop + ball.el.offsetHeight*0.4, ball.size);

  // increment score
  score++;
  scoreDisplay.textContent = 'Popped: ' + score;

  // small pop animation for the balloon element then remove
  ball.el.style.transition = 'transform 160ms ease, opacity 180ms ease';
  ball.el.style.transform = 'scale(0.4) rotate(' + (r(-60,60)) + 'deg)';
  ball.el.style.opacity = '0';
  setTimeout(()=>{
    if(ball.el && ball.el.remove) ball.el.remove();
    // remove balloon from array
    balloons = balloons.filter(b => b !== ball);
  }, 220);
}

/* Particles system */
let particles = [];
function createParticles(x,y,size){
  // convert to canvas coords (arena is positioned relative)
  const arenaRect = arena.getBoundingClientRect();
  const cx = x - arenaRect.left;
  const cy = y - arenaRect.top;
  const count = Math.floor(size/4) + 10;
  for(let i=0;i<count;i++){
    particles.push({
      x: cx,
      y: cy,
      vx: r(-150,150)/60,
      vy: r(-150, -30)/60,
      life: r(0.6,1.25),
      age:0,
      size: r(2,8),
      color: randomPalette()
    });
  }
}

function randomPalette(){
  const pal = ['#ffd166','#ef476f','#06d6a0','#ffd700','#ff6b6b','#48cae4','#ffffff'];
  return pal[Math.floor(Math.random()*pal.length)];
}

/* Game loop */
function tick(now){
  if(paused){
    lastTick = now;
    requestAnimationFrame(tick);
    return;
  }
  const dt = (now - lastTick)/1000;
  lastTick = now;

  // spawn
  if(r(0,1) < (dt * (1/spawnInterval)*1000) || (now - lastSpawn > spawnInterval)){
    createBalloon();
    lastSpawn = now;
  }

  // update balloons position (rise)
  const arenaH = arena.clientHeight;
  balloons.forEach(ball => {
    if(!ball.alive) return;
    ball.y -= ball.rise * dt;
    ball.el.style.bottom = ball.y + 'px';
    // small sway
    const sway = Math.sin(now/400 + ball.size) * (ball.size/12);
    ball.el.style.transform = 'translateX(' + sway + 'px)';

    // remove if gone above top
    if(ball.y + ball.size < -120){
      // remove element
      if(ball.el && ball.el.remove) ball.el.remove();
      ball.alive = false;
    }
  });
  balloons = balloons.filter(b=>b.alive);

  // update particles
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach((p)=>{
    p.age += dt;
    if(p.age > p.life) return;
    p.vy += 200 * dt; // gravity
    p.x += p.vx * dt * 60;
    p.y += p.vy * dt * 60;
    const t = 1 - (p.age / p.life);
    ctx.globalAlpha = Math.max(0, t);
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.size * t, 0, Math.PI*2);
    ctx.fill();
  });
  particles = particles.filter(p => p.age <= p.life);

  requestAnimationFrame(tick);
}

/* Controls */
startBtn.addEventListener('click', ()=>{
  overlay.style.display = 'none';
  running = true;
  paused = false;
  lastTick = performance.now();
  requestAnimationFrame(tick);
});

howBtn.addEventListener('click', ()=>{
  alert('Tap / press balloons to pop them. Pop as many as you can! Mobile touch-friendly. Enjoy the Messi & FCB vibes ‚ù§Ô∏è');
});

pauseBtn.addEventListener('click', ()=>{
  paused = !paused;
  pauseBtn.textContent = paused ? 'Resume' : 'Pause';
});

showMsgBtn.addEventListener('click', ()=>{
  showBirthdayCard();
});

scoreDisplay.addEventListener('click', ()=>{
  // quick fun: show current popped count and message
  alert('Popped: ' + score + '\\nGreat job ‚Äî keep going!');
});

/* Overlay message function */
function showBirthdayCard(){
  overlay.style.display = 'flex';
  overlay.innerHTML = `
    <div class="card" style="max-width:760px">
      <h1>To Sajid ‚Äî a special day</h1>
      <p class="lead">From a friend who admires your goals on and off the pitch.</p>
      <div class="message" style="white-space:pre-wrap;">${fullBirthdayMessage}</div>
      <div style="display:flex; gap:10px; margin-top:12px; justify-content:center;">
        <button class="btn" id="closeMsgBtn">Close</button>
        <button class="btn" id="continueBtn">Continue popping</button>
      </div>
    </div>
  `;
  document.getElementById('closeMsgBtn').addEventListener('click', ()=>{
    overlay.style.display = 'none';
  });
  document.getElementById('continueBtn').addEventListener('click', ()=>{
    overlay.style.display = 'none';
  });
}

/* Start with overlay visible */
overlay.style.display = 'flex';

/* Accessibility hint: tap anywhere to pop last spawned balloon (optional) */
arena.addEventListener('pointerdown', (ev)=>{
  // if you accidentally tap an empty area, try to pop the nearest balloon if close
  const clickX = ev.clientX - arena.getBoundingClientRect().left;
  const clickY = ev.clientY - arena.getBoundingClientRect().top;
  let nearest = null; let nd = Infinity;
  balloons.forEach(b=>{
    const bx = b.el.offsetLeft + b.el.offsetWidth*0.5;
    const by = b.el.offsetTop + b.el.offsetHeight*0.5;
    const d = Math.hypot(bx - clickX, by - clickY);
    if(d < nd){ nd = d; nearest = b; }
  });
  if(nearest && nd < 120) popBalloon(nearest);
});

/* Start paused until user presses Start. */
</script>
</body>
</html>
