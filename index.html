<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Birthday Sajid</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: white;
        overflow: hidden;
        font-family: 'Courier New', monospace;
        touch-action: manipulation;
    }

    #gameCanvas {
        display: block;
        margin: 0 auto;
        background: white;
        border: 3px solid black;
    }

    #messageBox {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: 500px;
        padding: 20px;
        background: white;
        border: 3px solid black;
        font-family: 'Courier New', monospace;
        text-align: center;
        font-size: 18px;
        display: none;
        line-height: 1.5;
    }

    #messageBox button {
        margin-top: 15px;
        padding: 10px 20px;
        background: black;
        color: white;
        border: none;
        font-size: 16px;
        cursor: pointer;
    }

    .football {
        width: 40px;
        filter: grayscale(100%) contrast(200%);
    }
</style>
</head>

<body>
<canvas id="gameCanvas"></canvas>

<div id="messageBox">
    <p><b>Happy Birthday Sajid</b><br><br>
    I am so happy I get to share this day with you.  
    You make my everyday better, thought you should know.  
    All I want for your special day is that next year this time, you are even betterâ€”  
    I hope and pray everything good written for you gets here asap.  
    You deserve all the happiness in the world.</p>

    <button onclick="location.reload()">Play Again</button>
</div>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const footballs = [];
    const popNeeded = 10;
    let popped = 0;

    const footballImg = new Image();
    footballImg.src = "https://upload.wikimedia.org/wikipedia/commons/6/6e/Football_%28soccer_ball%29.svg";

    function createFootball() {
        const size = 40;
        return {
            x: Math.random() * (canvas.width - size),
            y: canvas.height + size,
            size: size,
            speed: 2 + Math.random() * 3
        };
    }

    function spawnFootball() {
        footballs.push(createFootball());
    }

    // Spawn every 0.8s
    setInterval(spawnFootball, 800);

    function drawFootball(ball) {
        ctx.drawImage(footballImg, ball.x, ball.y, ball.size, ball.size);
    }

    function update() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        for (let i = 0; i < footballs.length; i++) {
            let ball = footballs[i];
            ball.y -= ball.speed;

            drawFootball(ball);

            // Remove if out of screen
            if (ball.y < -50) {
                footballs.splice(i, 1);
                i--;
            }
        }

        requestAnimationFrame(update);
    }

    update();

    // Handle popping (touch or click)
    canvas.addEventListener("pointerdown", function (e) {
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        for (let i = 0; i < footballs.length; i++) {
            let ball = footballs[i];
            if (
                x >= ball.x &&
                x <= ball.x + ball.size &&
                y >= ball.y &&
                y <= ball.y + ball.size
            ) {
                footballs.splice(i, 1);
                popped++;

                if (popped >= popNeeded) {
                    document.getElementById("messageBox").style.display = "block";
                }

                break;
            }
        }
    });
</script>
</body>
</html>
