<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Birthday Puzzle for Sajid</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(135deg, #ffe6f7, #d9ecff);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        font-family: "Poppins", sans-serif;
        user-select: none;
        padding-top: 40px;
    }

    h1 {
        font-size: 24px;
        color: #444;
        margin-bottom: 20px;
        text-align: center;
    }

    #puzzle {
        width: 300px;
        height: 300px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        gap: 5px;
    }

    .tile {
        background: white;
        border-radius: 15px;
        font-size: 32px;
        font-weight: bold;
        color: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0px 4px 8px rgba(0,0,0,0.15);
        transition: 0.2s;
    }

    .tile:active {
        transform: scale(0.95);
    }

    /* The message card */
    #messageBox {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255,255,255,0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 25px;
        text-align: center;
        font-size: 18px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 1s ease;
        line-height: 1.6;
    }

    #messageContent {
        background: #ffffff;
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        max-width: 90%;
        font-size: 18px;
        animation: popIn 1s ease forwards;
        transform: scale(0.8);
        opacity: 0;
    }

    @keyframes popIn {
        to {
            transform: scale(1);
            opacity: 1;
        }
    }
</style>

</head>
<body>

<h1>Complete the Puzzle for a Surprise üéÅ</h1>

<div id="puzzle"></div>

<!-- Hidden message -->
<div id="messageBox">
    <div id="messageContent">
        <strong>Happy Birthday Sajid üéâüíô</strong><br><br>
        I am so happy I get to share this day with you.  
        You make my everyday better, thought you should know.  
        All I want for your special day is that next year this time,  
        you are even better ‚Äî I hope and pray everything good written  
        for you gets here asap.  
        You deserve all the happiness in the world. üíõ
    </div>
</div>

<script>
    const puzzle = document.getElementById("puzzle");
    let tiles = [...Array(8).keys()].map(n => n + 1);
    tiles.push(""); // empty tile

    // Shuffle function
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            let j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function drawPuzzle() {
        puzzle.innerHTML = "";
        tiles.forEach((t, i) => {
            let tile = document.createElement("div");
            tile.className = "tile";
            tile.textContent = t;
            tile.dataset.index = i;
            if (t === "") {
                tile.style.background = "transparent";
                tile.style.boxShadow = "none";
            }
            tile.addEventListener("click", () => moveTile(i));
            puzzle.appendChild(tile);
        });
    }

    function moveTile(i) {
        const emptyIndex = tiles.indexOf("");
        const validMoves = [i - 1, i + 1, i - 3, i + 3];

        if (validMoves.includes(emptyIndex)) {
            [tiles[i], tiles[emptyIndex]] = [tiles[emptyIndex], tiles[i]];
            drawPuzzle();
            checkWin();
        }
    }

    function checkWin() {
        for (let i = 0; i < 8; i++) {
            if (tiles[i] !== i + 1) return;
        }
        revealMessage();
    }

    function revealMessage() {
        const box = document.getElementById("messageBox");
        box.style.opacity = "1";
        box.style.pointerEvents = "all";
    }

    shuffle(tiles);
    drawPuzzle();
</script>

</body>
</html>
